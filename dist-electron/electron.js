"use strict";const e=require("electron"),i=require("path"),a=require("url"),n=()=>{const t=new e.BrowserWindow({width:800,height:600,webPreferences:{nodeIntegration:!0,enableRemoteModule:!0,contextIsolation:!1,preload:i.join(__dirname,"preload.js"),partition:"persist:nft_issuance_tool"}}),o=e.app.isPackaged?a.format({pathname:i.join(__dirname,"./index.html"),protocol:"file:",slashes:!0}):"http://localhost:3000";t.loadURL(o),e.app.isPackaged||t.webContents.openDevTools()},s={github:"https://github.com/bitshares/beet/releases",gallery:"https://nftea.gallery/gallery",ipfs_pinata:"https://www.pinata.cloud/",ipfs_nft_storage:"https://nft.storage/",ipfs_web3_storage:"https://web3.storage/",ipfs_fleek:"https://fleek.co/ipfs-gateway/",ipfs_infura:"https://infura.io/product/ipfs",ipfs_storj:"https://landing.storj.io/permanently-pin-with-storj-dcs",ipfs_eternum:"https://www.eternum.io/",ipfs_docs:"https://blog.ipfs.io/2021-04-05-storing-nfts-on-ipfs/",nft_spec:"https://github.com/Bit20-Creative-Group/BitShares-NFT-Specification"};e.ipcMain.on("openURL",(t,o)=>{Object.prototype.hasOwnProperty.call(s,o)&&(t.returnValue="Opening url!",e.shell.openExternal(s[o]))});e.app.whenReady().then(()=>{n(),e.app.on("activate",()=>{e.BrowserWindow.getAllWindows().length===0&&n()}),e.app.on("certificate-error",(t,o,p,l,c,r)=>{t.preventDefault(),r(!0)})});e.app.on("window-all-closed",()=>{process.platform!=="darwin"&&e.app.quit()});
